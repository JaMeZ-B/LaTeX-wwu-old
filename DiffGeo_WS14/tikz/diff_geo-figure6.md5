\begingroup \toks 0={macro:->[scale=0.6] \par \draw (1.5,5) .. controls +(140:1) and +(200:1) .. (2,7.5) node[above]{$\Omega _1$} .. controls +(20:1) and +(135:1) .. (4,7) .. controls +(315:1) and +(40:1) .. (3.5,5) .. controls +(220:1) and +(320:1) .. (1.5,5) node[left]{$\Omega _1\cap g_1^{-1}(U_2)$}; \par \draw [fill=SteelBlue2,fill opacity=0.2] (3.5,5) .. controls +(220:1) and +(320:1) .. (1.5,5) .. controls +(20:0.5) and +(160:0.5) .. (3.5,5); \par \draw (1.5,1) node[left]{$\Omega _2$} .. controls +(150:1) and +(210:1) .. (2,3.5) node[left]{$\Omega _2\cap g_2^{-1}(U_1)$} .. controls +(30:0.7) and +(145:0.7) .. (3.5,3.5) .. controls +(325:1) and +(30:1) .. (3.5,1) .. controls +(210:1) and +(330:1) .. (1.5,1); \par \draw [fill=SteelBlue2,fill opacity=0.2] (2,3.5) .. controls +(30:0.7) and +(145:0.7) .. (3.5,3.5) .. controls +(200:0.5) and +(340:0.5) .. (2,3.5); \par \draw [->] (2.4,4.5) .. controls +(250:0.125) and +(90:0.125) .. (2.3,4.1) node[right]{$g_2^{-1}\circ g_1$} .. controls +(270:0.125) and +(110:0.125) .. (2.4,3.7); \par \draw (8.5,2) .. controls +(150:1) and +(210:1) .. (9,4.5) .. controls +(30:0.7) and +(145:0.7) .. (10.5,4.5) .. controls +(325:1) and +(30:1) .. (10.5,2) node[below right]{$U_2\cap M$} .. controls +(210:1) and +(330:1) .. (8.5,2); \par \draw (9,4.5) .. controls +(150:1) and +(210:1) .. (9,7) .. controls +(30:0.7) and +(145:0.7) .. (10.5,7) node[right]{$U_1\cap M$} .. controls +(325:1) and +(30:1) .. (10.5,4.5) .. controls +(210:0.7) and +(330:0.7) .. (9,4.5); \par \draw [fill=SteelBlue2,fill opacity=0.2] (9,4.5) .. controls +(30:0.7) and +(145:0.7) .. (10.5,4.5) .. controls +(210:0.7) and +(330:0.7) .. (9,4.5); \par \draw [->] (5,6) -- (6.25,6) node[above]{$g_1$} -- (7.5,6); \draw [->] (5,3) -- (6.25,3) node[above]{$g_2$} -- (7.5,3); }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
