\begingroup \toks 0={macro:->[yscale=0.4, xscale=0.8] \begin {axis}[ hide axis, view={40}{40} ] \addplot 3 [ surf, shader=faceted interp, point meta=x, colormap/greenyellow, samples=50, samples y=5, z buffer=sort, domain=0:360, y domain=-0.5:0.5 ] ( {(1+0.5*y*cos(x/2)))*cos(x)}, {(1+0.5*y*cos(x/2)))*sin(x)}, {0.5*y*sin(x/2)}); \par \addplot 3 [ samples=70, domain=-145:180, samples y=0, thick ] ( {cos(x)}, {sin(x)}, {0}); \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
