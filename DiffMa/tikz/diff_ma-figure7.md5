\begingroup \toks 0={macro:->[scale=1.7] \coordinate (x) at (2.6,0.7); \coordinate (a) at (2.6,1.7); \coordinate (b) at (3.6,0.7); \draw [thick] (0,0) arc (105:70:7) node[above right, xshift=0.2cm]{$M$} arc (150:110:2.5) arc (70:105:7) arc (110:150:2.5) -- cycle; \draw [very thick, Tomato2] (1,0.4) to[out=20, in=180] (x) to[out=0, in=155] (4,0.4) node[right]{$\gamma $}; \draw [thick, SeaGreen3, shift=(x), fill=SeaGreen2!50, fill opacity=0.4] (1,0,1) -- ++ (0,0,-2) -- ++ (-2,0,0) -- ++ (0,0,2) -- cycle; \node [below right, SeaGreen4] (A) at (3.6,0.7,-1) {$T_p M$} ; \draw [->, thick] (x) -- (a); \draw pic["$\cdot $", draw, angle radius=3.5mm] {angle=b--x--a}; \draw [->, very thick, DodgerBlue2] (x) -- (3.4,0.7) node[above]{$\dot \gamma (0)$}; \draw [fill=Firebrick3, Firebrick3] (x) circle[radius=0.025] node[below]{$p$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
