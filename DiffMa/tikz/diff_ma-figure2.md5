\begingroup \toks 0={macro:->[scale=0.8] \draw [name path=real] (-5.2,0) node[above right]{$\mathds {R}^n$} -- (5.2,0); \draw [name path=sphere, thick] (0,0) circle[radius=2cm]; \par \draw [name path=g1,lightgray, thick, dashed] (0,2) -- (-4,0); \path [name intersections={of=g1 and real, by=in1}]; \path [name intersections={of=g1 and sphere}]; \draw [fill=SteelBlue2] (in1) circle[radius=0.06cm] node[below, color=SteelBlue3]{$h^+(p)$}; \draw [fill=SteelBlue2] (intersection-2) circle[radius=0.06cm] node[above left, color=SteelBlue3]{$p$}; \par \begin {scope} \foreach \x in {-3, -2.2, 2, 2.5, 3.4, 5} { \draw [name path=g1,lightgray, thick, dashed] (0,2) -- (\x ,0); \path [name intersections={of=g1 and real, by=in1}]; \path [name intersections={of=g1 and sphere}]; \draw [fill=SteelBlue2] (in1) circle[radius=0.06cm]; \draw [fill=SteelBlue2] (intersection-1) circle[radius=0.06cm]; \draw [fill=SteelBlue2] (intersection-2) circle[radius=0.06cm]; } \end {scope} \foreach \x in {-3.1,-2.1, -0.7, 0.2, 0.7, 1.8, 2.9} { \path [name path=g1] (0,2) -- (\x ,-2); \path [name intersections={of=g1 and real, by=in1}]; \path [name intersections={of=g1 and sphere}]; \draw [name path=g1,lightgray, thick, dashed] (0,2) -- (intersection-2); \draw [fill=SteelBlue2] (in1) circle[radius=0.06cm]; \draw [fill=SteelBlue2] (intersection-2) circle[radius=0.06cm]; } \draw [fill=OrangeRed2] (0,2) circle[radius=0.07cm] node[above]{$N$}; \draw [fill=OrangeRed2] (0,-2) circle[radius=0.07cm] node[below]{$S$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
