\begingroup \toks 0={macro:->[scale=1.1] \path (4,0) coordinate (mid) + (0,1) coordinate (top) + (0,-1) coordinate(bottom); \shade [ball color=blue!30!white,opacity=0.40] (mid) circle (1cm); \par \draw (top) ++(185:4) -- ++ (5:6); \draw (bottom) ++(175:4) -- ++ (-5:6); \par \node [] at (6,0) {$X_{a,r}$}; \node [below] at (2.5,0) {$B_r(a)$}; \par \fill [LightSalmon3, fill opacity=0.5] (top) arc (165.96:194.04:4.123) arc(-14.04:14.04:4.123); \draw [thick] (top) arc (14.04:-30:4.123); \draw [thick] (top) arc (14.04:30:4.123) node[right]{$S^n$}; \draw [thick, dashed] (top) arc (165.96:194.04:4.123); }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
