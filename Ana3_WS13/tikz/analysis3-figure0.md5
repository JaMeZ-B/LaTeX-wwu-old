\begingroup \toks 0={macro:->[scale=0.6] \coordinate (x0) at (7,0); \coordinate (y0) at (0,3); \coordinate (xy) at (7,3); \coordinate (fpeak) at (10,4.5); \draw [ultra thick, <->] (10,0) -- (0,0) -- (0,6); \draw [ultra thick, Chartreuse4] (2,1) to [out=-5, in=200](6,1) to [out=20, in=260](8,3) to [out=80, in=-85](8,5) to [out=95, in=-20](4.5,5.5) to [out=160, in=5](2,5) to [out=185, in=80](1,2) to [out=260, in=175](2,1); \draw [decorate, decoration={brace,amplitude=5pt, mirror, raise=4pt},yshift=0pt, thick] (10,3) -- (fpeak) node[right, midway, xshift=0.25cm]{$f(x_0,y_0)$}; \draw [decorate, decoration={brace,amplitude=5pt, mirror, raise=4pt},yshift=0pt, thick] (xy) -- (10,3) node[below, midway, yshift=-0.27cm]{$1$}; \node [Chartreuse4] at (2.5,5.8) {$G$}; \draw [fill] (x0) circle (0.07) node[below]{$x_0$}; \draw [fill] (y0) circle (0.07) node[left]{$y_0$}; \draw [dashed, thick] (x0) -- (xy); \draw [dashed, thick] (y0) -- (xy) -- ++ (3,0) -- (fpeak); \draw (2,2.3) -- ++ (130:0.7); \draw (2,3) -- ++ (122:0.7); \draw (2,4) -- ++ (116:0.7); \draw (2,1.4) -- ++ (140:0.7); \draw (3,4) -- ++ (110:0.7); \draw (3,3) -- ++ (130:0.7); \draw (3,2) -- ++ (165:0.7); \draw (3,1.05) -- ++ (167:0.7); \draw (4,4) -- ++ (125:0.7); \draw (4,5) -- ++ (108:0.5); \draw (4,2.7) -- ++ (160:0.7); \draw (4,1.85) -- ++ (175:0.7); \draw (4,1) -- ++ (177:0.7); \draw (5,1) -- ++ (185:0.7); \draw (5,1.84) -- ++ (188:0.3); \draw (5,2.8) -- ++ (185:0.7); \draw (5,3.7) -- ++ (179:0.7); \draw (5,4.6) -- ++ (170:0.7); \draw (6,2.1) -- ++ (195:0.7); \draw (6,1.3) -- ++ (198:0.7); \draw (6,3) -- ++ (195:0.7); \draw (6,4.15) -- ++ (208:0.7); \draw (6,5.2) -- ++ (215:0.7); \draw (6.8,1.6) -- ++ (205:0.5); \draw (6.8,2.4) -- ++ (208:0.5); \draw (7,3.8) -- ++ (220:0.7); \draw (6.7,5.2) -- ++ (245:0.7); \draw (7.7,5) -- ++ (245:0.7); \draw [ultra thick, DarkOrange2] (8,4.3) to [out=-110,in=26.565](xy) to [out=206.565, in=0](4.5,2.2) node[below]{$\varphi $} to [out=180, in=-80](1.2,4); \draw [ultra thick, DarkOrange2] (7,5.6) to [out=270, in=0](4.5,3.2) to [out=180, in=-80](3,5.3); \draw [ultra thick, Firebrick3] (6.5,2.75) -- ++(26.565:4.5) node[right]{$y'=f(x,y)$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
