\begingroup \toks 0={macro:-> \begin {axis}[ xtick distance=0.5, minor x tick num=4, xticklabel style={/pgf/number format/frac}, declare function={f(\x )= sin(deg(2*pi*\x )) + 2 * \x + 3;}, width=8cm, ] \addplot [ Firebrick2, domain=0:1, samples=200, very thick, ] {f(x)} node[pos=0.65,below]{$f$}; \addplot [ DodgerBlue3, domain=0:0.5, samples=200, very thick, ] {sqrt(2)*f(2*x)} node[pos=0.5,above right]{$v_1(f)$}; \addplot [ SeaGreen4, domain=0.5:1, samples=200, very thick, ] {(sqrt(2))*f(2*x-1)} node[pos=0.5,above right]{$v_2(f)$}; \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
